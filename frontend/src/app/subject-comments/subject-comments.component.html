<div>
    <h2>Comments</h2>
    <p *ngIf="fatalMessage" class="error">{{fatalMessage}}</p>
    <p *ngIf="message" class="error">{{message}}</p>
    <div *ngIf="!fatalMessage">
        <div *ngIf="comments.length == 0" class="row">
            <h5>No comments.</h5>
        </div>
        <div class="row" *ngFor="let comment of comments">
            <div class="comment">
                <div class="arm thumbs"><button class="btn btn-default thumbUp" onclick="this.thumbUp(comment.id)">{{comment.thumbsUp}}</button>
                    <br/>
                    <button class="btn btn-default thumbDown" onclick="this.thumbDown(comment.id)">{{comment.thumbsDown}}</button>
                </div>
                <div *ngIf="comment.isFlagged" class="body reported">
                    <div class="box">
                        <div class="post">{{comment.post}}</div>
                        <div class="metadata">
                            <div class="box">
                                <div class="info">by {{comment.user.username}}, at {{comment.postTime | date:'d/M/yy H:m'}}</div>
                                <div class="action"><button class="action btn btn-default flagged" onclick="this.unflag(comment.id)">!</button></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="!comment.isFlagged" class="body">
                    <div class="box">
                        <div class="post">{{comment.post}}</div>
                        <div class="metadata">
                            <div class="box">
                                <div class="info">by {{comment.user.username}}, at {{comment.postTime | date:'d/M/yy H:m'}}</div>
                                <div class="action"><button class="btn btn-default notFlagged" onclick="this.flag(comment.id)">!</button></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--<form *ngIf="canAddComment" [formGroup]="addCommentForm" (submit)="addComment(addCommentForm.value)">-->
        <!--<p>Posting as: bob</p>&lt;!&ndash;need to get username from auth somehow&ndash;&gt;-->
        <!--<input formControlName="message" type="text" placeholder="Comment" class="form-control">-->
        <!--<button class="btn btn-default">Post!</button>-->
    <!--</form>-->
    <p *ngIf="!canAddComment">
        Need to login to post a comment!
    </p>
</div>
